# binance_helper

## Для установки необходимых пакетов:
`pip install -r requirements.txt`

## .env
Перед запуском добавить BINANCE_API_KEY, BINANCE_SECRET_KEY в переменные среды

## Для запуска сервера:
`python main.py`

Сервер работает на `localhost:8080`
### Endpoints:
- `/ping` - `GET` запрос, проверка работы (ожидаемый ответ text=`Pong`)

- `/create_orders` - `POST` запрос, создает ордера по переданным параметрам на бирже Binance. Возвращает json.

**Обязательные параметры** (пример):

```python
body = {
   "volume": 10000.0,  # Объем в долларах
   "number": 5,  # На сколько ордеров нужно разбить этот объем
   "amountDif": 50.0,  # Разброс в долларах, в пределах которого случайным образом выбирается объем в верхнюю и нижнюю сторону
   "side": "SELL",  # Сторона торговли (SELL или BUY)
   "priceMin": 200.0,  # Нижний диапазон цены, в пределах которого нужно случайным образом выбрать цену
   "priceMax": 300.0  # Верхний диапазон цены, в пределах которого нужно случайным образом выбрать цену
}
```
- `/get_orders` - `GET` запрос, возвращает текущие открытые ордера по валютной паре. Возвращает json.

- `/delete_orders` - `DELETE` запрос, удаляет **ВСЕ** текущие открытые ордера по валютной паре. Возвращает json.

## Для запуска тестов:
`pytest --cov=binance_helper`
